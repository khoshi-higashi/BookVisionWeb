# BookVisionWeb.UseCase/RecognizePage.cs の役割

## 概要

**RecognizePage.cs** は、
BookVisionWeb アプリケーションで「画像から OCR 認識してテキストを返す」ユースケース（=アプリの主処理ロジック）を実装する **ユースケース層の中心クラス** です。

---

## 主な役割

### 1. 「ページ画像を OCR でテキスト化する」ユースケースの定義・実装

- ページ ID（`PageId`）を指定して
  1. 対象ページ画像をリポジトリから取得
  2. OCR 処理を実行しテキスト化
  3. 結果をページへ保存
  4. テキストをクライアントに返却
     という一連のビジネスロジックを担う

### 2. 入出力データの型安全な表現

- `RecognizePageInput` … 入力（どのページか）
- `RecognizePageOutput` … 出力（ページ ID + 認識テキスト）

### 3. クリーンアーキテクチャのユースケース層

- インターフェースである
  - `IRecognizePageUseCase`（ユースケース本体）
  - `IRecognizePagePresenter`（プレゼンター/レスポンス整形）
  - `IPageRepository`（ページリポジトリ、データ取得・保存）
  - `IOcrGateway`（OCR 処理の抽象化）
    などを定義し、依存逆転（DI）を徹底

### 4. 拡張・テスト容易な設計

- 依存先（OCR 処理やリポジトリ等）はすべてインターフェース経由のため、実装差し替えやテストが容易

---

## まとめ

- **RecognizePage.cs** は、
  「指定ページ画像を OCR で認識してテキストとして返す」**ユースケース層のロジック（アプリの中核処理）**を担当
- クリーンアーキテクチャに則り、入出力・依存の抽象化・拡張性を担保

---

> 要するに
> **「ページ画像を OCR してテキストを返すアプリ本体の“中核処理”をまとめたファイル」**
> です。
